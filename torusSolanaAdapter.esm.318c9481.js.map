{"mappings":"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","sources":["node_modules/@web3auth/torus-solana-adapter/src/solanaWalletAdapter.ts","node_modules/@toruslabs/src/messages.ts","node_modules/@toruslabs/src/interfaces.ts","node_modules/@toruslabs/src/config.ts","node_modules/@toruslabs/src/loglevel.ts","node_modules/@toruslabs/src/utils.ts","node_modules/@toruslabs/src/baseProvider.ts","node_modules/@toruslabs/src/embedUtils.ts","node_modules/@toruslabs/src/PopupHandler.ts","node_modules/@toruslabs/src/communicationProvider.ts","node_modules/@toruslabs/src/inPageProvider.ts","node_modules/@toruslabs/src/siteMetadata.ts","node_modules/@toruslabs/src/embed.ts","node_modules/is-stream/index.js","node_modules/fast-deep-equal/index.js","node_modules/@web3auth/base-solana-adapter/src/baseSolanaAdapter.ts"],"sourcesContent":["import Torus, { NetworkInterface, TorusCtorArgs, TorusLoginParams, TorusParams } from \"@toruslabs/solana-embed\";\nimport {\n  ADAPTER_CATEGORY,\n  ADAPTER_CATEGORY_TYPE,\n  ADAPTER_EVENTS,\n  ADAPTER_NAMESPACES,\n  ADAPTER_STATUS,\n  ADAPTER_STATUS_TYPE,\n  AdapterInitOptions,\n  AdapterNamespaceType,\n  BaseAdapterSettings,\n  CHAIN_NAMESPACES,\n  ChainNamespaceType,\n  CONNECTED_EVENT_DATA,\n  CustomChainConfig,\n  log,\n  SafeEventEmitterProvider,\n  UserInfo,\n  WALLET_ADAPTERS,\n  WalletInitializationError,\n  WalletLoginError,\n  Web3AuthError,\n} from \"@web3auth/base\";\nimport { BaseSolanaAdapter } from \"@web3auth/base-solana-adapter\";\nimport { ITorusWalletProvider, TorusInjectedProvider } from \"@web3auth/solana-provider\";\n\nexport interface SolanaWalletOptions extends BaseAdapterSettings {\n  adapterSettings?: TorusCtorArgs;\n  loginSettings?: TorusLoginParams;\n  initParams?: Omit<TorusParams, \"network\">;\n}\n\nexport class SolanaWalletAdapter extends BaseSolanaAdapter<void> {\n  readonly name: string = WALLET_ADAPTERS.TORUS_SOLANA;\n\n  readonly adapterNamespace: AdapterNamespaceType = ADAPTER_NAMESPACES.SOLANA;\n\n  readonly currentChainNamespace: ChainNamespaceType = CHAIN_NAMESPACES.SOLANA;\n\n  readonly type: ADAPTER_CATEGORY_TYPE = ADAPTER_CATEGORY.EXTERNAL;\n\n  public status: ADAPTER_STATUS_TYPE = ADAPTER_STATUS.NOT_READY;\n\n  public torusInstance: Torus | null = null;\n\n  private torusWalletOptions?: TorusCtorArgs;\n\n  private initParams?: TorusParams;\n\n  private loginSettings?: TorusLoginParams = {};\n\n  private solanaProvider: TorusInjectedProvider | null = null;\n\n  constructor(params: SolanaWalletOptions = {}) {\n    super(params);\n    this.torusWalletOptions = params.adapterSettings || {};\n    this.initParams = params.initParams || {};\n    this.loginSettings = params.loginSettings || {};\n  }\n\n  get provider(): SafeEventEmitterProvider | null {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.solanaProvider) {\n      return this.solanaProvider?.provider || null;\n    }\n    return null;\n  }\n\n  set provider(_: SafeEventEmitterProvider | null) {\n    throw new Error(\"Not implemented\");\n  }\n\n  async init(options: AdapterInitOptions = {}): Promise<void> {\n    await super.init(options);\n    super.checkInitializationRequirements();\n    const { chainId, blockExplorer, displayName, rpcTarget, ticker, tickerName } = this.chainConfig as CustomChainConfig;\n    const network: NetworkInterface = { chainId, rpcTarget, blockExplorerUrl: blockExplorer, displayName, tickerName, ticker, logo: \"\" };\n\n    this.torusInstance = new Torus(this.torusWalletOptions);\n    log.debug(\"initializing torus solana adapter init\");\n    await this.torusInstance.init({ showTorusButton: false, ...this.initParams, network });\n\n    this.solanaProvider = new TorusInjectedProvider({\n      config: {\n        chainConfig: this.chainConfig as CustomChainConfig,\n      },\n    });\n    this.status = ADAPTER_STATUS.READY;\n    this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.TORUS_SOLANA);\n\n    try {\n      log.debug(\"initializing torus solana adapter\");\n      if (options.autoConnect) {\n        this.rehydrated = true;\n        await this.connect();\n      }\n    } catch (error) {\n      log.error(\"Failed to connect with cached torus solana provider\", error);\n      this.emit(ADAPTER_EVENTS.ERRORED, error);\n    }\n  }\n\n  async connect(): Promise<SafeEventEmitterProvider | null> {\n    super.checkConnectionRequirements();\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    if (!this.solanaProvider) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    this.status = ADAPTER_STATUS.CONNECTING;\n    this.emit(ADAPTER_EVENTS.CONNECTING, { adapter: WALLET_ADAPTERS.TORUS_SOLANA });\n    try {\n      await this.torusInstance.login(this.loginSettings);\n      try {\n        const torusInpageProvider = this.torusInstance.provider as unknown as ITorusWalletProvider;\n        torusInpageProvider.sendTransaction = this.torusInstance.sendTransaction.bind(this.torusInstance);\n        torusInpageProvider.signAllTransactions = this.torusInstance.signAllTransactions.bind(this.torusInstance);\n        torusInpageProvider.signMessage = this.torusInstance.signMessage.bind(this.torusInstance);\n        torusInpageProvider.signTransaction = this.torusInstance.signTransaction.bind(this.torusInstance);\n        await this.solanaProvider.setupProvider(torusInpageProvider);\n      } catch (error: unknown) {\n        // some issue in solana wallet, always connecting to mainnet on init.\n        // fallback to change network if not connected to correct one on login.\n        if (error instanceof Web3AuthError && error.code === 5010) {\n          const { chainId, blockExplorer, displayName, rpcTarget, ticker, tickerName } = this.chainConfig as CustomChainConfig;\n          const network = { chainId, rpcTarget, blockExplorerUrl: blockExplorer, displayName, tickerName, ticker, logo: \"\" };\n          await this.torusInstance.setProvider(network);\n        } else {\n          throw error;\n        }\n      }\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.torusInstance.showTorusButton();\n      this.emit(ADAPTER_STATUS.CONNECTED, { adapter: WALLET_ADAPTERS.TORUS_SOLANA, reconnected: this.rehydrated } as CONNECTED_EVENT_DATA);\n      return this.provider;\n    } catch (error) {\n      // ready again to be connected\n      this.status = ADAPTER_STATUS.READY;\n      this.rehydrated = false;\n      this.emit(ADAPTER_EVENTS.ERRORED, error);\n      if (error instanceof Web3AuthError) throw error;\n      throw WalletLoginError.connectionError(\"Failed to login with torus solana wallet\");\n    }\n  }\n\n  async disconnect(options: { cleanup: boolean } = { cleanup: false }): Promise<void> {\n    await super.disconnectSession();\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    await this.torusInstance.logout();\n    if (options.cleanup) {\n      // ready to connect again\n      this.status = ADAPTER_STATUS.NOT_READY;\n      this.torusInstance = null;\n      this.solanaProvider = null;\n    } else {\n      // ready to connect again\n      this.status = ADAPTER_STATUS.READY;\n    }\n    await super.disconnect();\n  }\n\n  async getUserInfo(): Promise<Partial<UserInfo>> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    const userInfo = await this.torusInstance.getUserInfo();\n    return userInfo;\n  }\n\n  public async addChain(chainConfig: CustomChainConfig, init = false): Promise<void> {\n    super.checkAddChainRequirements(init);\n    // await this.solanaProvider?.addChain(chainConfig);\n    this.addChainConfig(chainConfig);\n  }\n\n  public async switchChain(params: { chainId: string }, init = false): Promise<void> {\n    super.checkSwitchChainRequirements(params, init);\n    const chainConfig = this.getChainConfig(params.chainId) as CustomChainConfig;\n    await this.torusInstance?.setProvider({\n      rpcTarget: chainConfig.rpcTarget,\n      chainId: chainConfig.chainId,\n      displayName: chainConfig.displayName,\n      blockExplorerUrl: chainConfig.blockExplorer,\n      ticker: chainConfig.ticker,\n      tickerName: chainConfig.tickerName,\n      logo: \"https://images.web3auth.io/login-torus-solana.svg\",\n    });\n    this.setAdapterSettings({ chainConfig: this.getChainConfig(params.chainId) as CustomChainConfig });\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,"'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import {\n  ADAPTER_EVENTS,\n  ADAPTER_STATUS,\n  AdapterInitOptions,\n  BaseAdapter,\n  CHAIN_NAMESPACES,\n  checkIfTokenIsExpired,\n  clearToken,\n  getChainConfig,\n  getSavedToken,\n  saveToken,\n  signChallenge,\n  UserAuthInfo,\n  verifySignedChallenge,\n  WalletLoginError,\n} from \"@web3auth/base\";\nimport bs58 from \"bs58\";\n\nexport abstract class BaseSolanaAdapter<T> extends BaseAdapter<T> {\n  async init(_?: AdapterInitOptions): Promise<void> {\n    if (!this.chainConfig) this.chainConfig = getChainConfig(CHAIN_NAMESPACES.SOLANA, 1);\n  }\n\n  async authenticateUser(): Promise<UserAuthInfo> {\n    if (!this.provider || this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError();\n\n    const { chainNamespace, chainId } = this.chainConfig;\n\n    const accounts = await this.provider.request<string[]>({\n      method: \"getAccounts\",\n    });\n    if (accounts && accounts.length > 0) {\n      const existingToken = getSavedToken(accounts[0] as string, this.name);\n      if (existingToken) {\n        const isExpired = checkIfTokenIsExpired(existingToken);\n        if (!isExpired) {\n          return { idToken: existingToken };\n        }\n      }\n\n      const payload = {\n        domain: window.location.origin,\n        uri: window.location.href,\n        address: accounts[0],\n        chainId: parseInt(chainId, 16),\n        version: \"1\",\n        nonce: Math.random().toString(36).slice(2),\n        issuedAt: new Date().toISOString(),\n      };\n\n      const challenge = await signChallenge(payload, chainNamespace);\n      const encodedMessage = new TextEncoder().encode(challenge);\n      const signedMessage = await this.provider.request<Uint8Array>({\n        method: \"signMessage\",\n        params: {\n          message: encodedMessage,\n          display: \"utf8\",\n        },\n      });\n      const idToken = await verifySignedChallenge(\n        chainNamespace,\n        bs58.encode(signedMessage as Uint8Array),\n        challenge,\n        this.name,\n        this.sessionTime,\n        this.clientId,\n        this.web3AuthNetwork\n      );\n      saveToken(accounts[0] as string, this.name, idToken);\n      return {\n        idToken,\n      };\n    }\n    throw WalletLoginError.notConnectedError(\"Not connected with wallet, Please login/connect first\");\n  }\n\n  async disconnectSession(): Promise<void> {\n    super.checkDisconnectionRequirements();\n    const accounts = await this.provider.request<string[]>({\n      method: \"getAccounts\",\n    });\n    if (accounts && accounts.length > 0) {\n      clearToken(accounts[0], this.name);\n    }\n  }\n\n  async disconnect(): Promise<void> {\n    this.rehydrated = false;\n    this.emit(ADAPTER_EVENTS.DISCONNECTED);\n  }\n}\n"],"names":["SolanaWalletAdapter","BaseSolanaAdapter","constructor","params","super","_defineProperty","this","WALLET_ADAPTERS","TORUS_SOLANA","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","torusWalletOptions","adapterSettings","initParams","loginSettings","provider","_this$solanaProvider","status","CONNECTED","solanaProvider","_","Error","async","options","arguments","length","undefined","init","checkInitializationRequirements","chainId","blockExplorer","displayName","rpcTarget","ticker","tickerName","chainConfig","network","blockExplorerUrl","logo","torusInstance","Torus","log","debug","_objectSpread","showTorusButton","TorusInjectedProvider","config","READY","emit","ADAPTER_EVENTS","autoConnect","rehydrated","connect","error","ERRORED","checkConnectionRequirements","WalletInitializationError","notReady","CONNECTING","adapter","login","torusInpageProvider","sendTransaction","bind","signAllTransactions","signMessage","signTransaction","setupProvider","Web3AuthError","code","setProvider","reconnected","WalletLoginError","connectionError","cleanup","disconnectSession","logout","disconnect","notConnectedError","getUserInfo","checkAddChainRequirements","addChainConfig","_this$torusInstance","checkSwitchChainRequirements","getChainConfig","setAdapterSettings","$5ec8709f90add8b3$var$messages","disconnected","permanentlyDisconnected","unsupportedSync","method","invalidDuplexStream","invalidOptions","maxEventListeners","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","connected","TORUS_BUILD_ENV","PRODUCTION","DEVELOPMENT","TESTING","BUTTON_POSITION","BOTTOM_LEFT","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","$5ec8709f90add8b3$var$configuration","supportedVerifierList","api","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKeyPrefix","$5ec8709f90add8b3$var$log","loglevel","getLogger","getWindowId","Math","random","toString","slice","getTorusUrl","buildEnv","torusUrl","logLevel","FEATURES_PROVIDER_CHANGE_WINDOW","height","width","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_DEFAULT_POPUP_WINDOW","FEATURES_CONFIRM_WINDOW","getPopupFeatures","_ref","w","h","dualScreenLeft","window","screenLeft","screenX","dualScreenTop","screenTop","screenY","innerWidth","document","documentElement","clientWidth","screen","innerHeight","clientHeight","left","abs","BaseProvider","SafeEventEmitter","connectionStream","jsonRpcStreamName","isDuplexStream","messages","isTorus","setMaxListeners","_handleConnect","_handleDisconnect","_handleStreamDisconnect","_rpcRequest","_initializeState","request","sendAsync","mux","ObjectMultiplex","pump","ignoreStream","jsonRpcConnection","createStreamMiddleware","stream","createStream","rpcEngine","JRPCEngine","push","createIdRemapMiddleware","req","res","next","ethErrors","rpc","invalidRequest","message","data","done","createLoggerMiddleware","origin","location","middleware","_rpcEngine","jsonRpcConnectionEvents","events","args","Array","isArray","Promise","resolve","reject","getRpcPromiseCallback","send","payload","callback","streamName","logStreamDisconnectWarning","remoteLabel","emitter","warningMsg","stack","warn","listenerCount","documentReady","readyState","handle","eventName","handler","_len","handlerArgs","_key","handlerWrapper","removeEventListener","addEventListener","handleEvent","htmlToElement","html","template","createElement","trimmedHtml","trim","innerHTML","content","firstChild","isLegacyTransactionInstance","transaction","version","PopupHandler","url","target","features","windowTimer","iClosedWindow","_setupTimer","Number","setInterval","closed","clearInterval","open","href","focus","close","redirect","locationReplaceOnRedirect","replace","TorusCommunicationProvider","_state","_defaultState","dappStorageKey","languageTranslations","configuration","translations","getUserLanguage","userLanguage","navigator","language","userLanguages","split","Object","prototype","hasOwnProperty","call","embedTranslations","windowRefs","on","isConnected","COMMUNICATION_NOTIFICATIONS","IFRAME_STATUS","isFullScreen","rid","_displayIframe","isFull","CREATE_WINDOW","windowId","_createPopupBlockAlert","CLOSE_WINDOW","_handleCloseWindow","USER_LOGGED_IN","currentLoginProvider","isLoggedIn","USER_LOGGED_OUT","isIFrameFullScreen","torusAlertContainer","torusIframe","COMMUNICATION_JRPC_METHODS","GET_PROVIDER_STATE","info","initialized","_handleWindow","finalUrl","URL","hash","handledWindow","OPENED_WINDOW","once","CLOSED_WINDOW","style","display","top","right","bottom","torusWidgetVisibility","buttonPosition","assign","hideTorusButton","cb","_payload","jsonrpc","tryWindowHandle","isRecoverable","errorMessage","isPermanentlyDisconnected","EthereumRpcError","logoUrl","getLogoUrl","torusAlert","successAlert","btnContainer","appendChild","attachOnLoad","bindOnLoad","remove","children","hasEmittedConnection","TorusInPageProvider","selectedAddress","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","PROVIDER_NOTIFICATIONS","ACCOUNTS_CHANGED","UNLOCK_STATE_CHANGED","CHAIN_CHANGED","accounts","isUnlocked","PROVIDER_JRPC_METHODS","isInternal","err","result","isEthAccounts","finalAccounts","account","dequal","imgExists","img","onload","onerror","src","e","getSiteName","siteName","querySelector","metaTitle","title","hostname","getSiteIcon","icon","from","querySelectorAll","find","_icon","Boolean","PROVIDER_UNSAFE_METHODS","COMMUNICATION_UNSAFE_METHODS","SET_PROVIDER","isLocalStorageAvailable","type","storage","x","setItem","removeItem","name","storageAvailable","torusIframeHtml","crossOrigin","rel","relList","supports","head","modalZIndex","isInitialized","requestedLoginProvider","alertZIndex","communicationProvider","enableLogging","useLocalStorage","apiKey","extraParams","whiteLabel","setAPIKey","enableAll","setDefaultLevel","disableAll","handleDappStorageKey","torusIframeUrl","pathname","endsWith","hashParams","URLSearchParams","append","styleLink","body","dappMetadata","getSiteMetadata","contentWindow","postMessage","_setupWeb3","topupHide","isTopupHidden","torus","handleSetup","loginProvider","login_hint","loginParams","privateKey","userInfo","success","LOGOUT","clearInit","isElement","element","Element","Document","contains","path","instanceId","WALLET_INSTANCE_ID","finalPath","searchParams","keys","forEach","USER_INFO","TOPUP","isLegacyTransaction","serialize","requireAllSignatures","Buffer","signature","serializeMessage","response","messageOnly","parsed","JSON","parse","publicKey","PublicKey","addSignature","transactions","encodedMessage","map","tx","signatures","item","idx","localStorageKey","storedKey","localStorage","getItem","generatedKey","providerParams","providerStream","BasePostMessageStream","targetWindow","communicationStream","inPageProvider","includes","detectAccountRequestPrototypeModifier","m","originalMethod","self","then","catch","apply","proxiedInPageProvider","Proxy","deleteProperty","proxiedCommunicationProvider","all","$58e4794d7c737a82$var$isStream","pipe","writable","_write","_writableState","readable","_read","_readableState","duplex","transform","_transform","module","exports","equal","a","b","i","RegExp","source","flags","valueOf","key","BaseAdapter","chainNamespace","existingToken","getSavedToken","checkIfTokenIsExpired","idToken","domain","uri","address","parseInt","nonce","issuedAt","Date","toISOString","challenge","signChallenge","TextEncoder","encode","signedMessage","verifySignedChallenge","bs58","sessionTime","clientId","web3AuthNetwork","saveToken","checkDisconnectionRequirements","clearToken","DISCONNECTED"],"version":3,"file":"torusSolanaAdapter.esm.318c9481.js.map"}